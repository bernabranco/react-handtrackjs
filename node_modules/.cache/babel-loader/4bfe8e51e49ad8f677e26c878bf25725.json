{"ast":null,"code":"var _jsxFileName = \"/Users/bernardoagbranco/github/react-handtrackjs/src/components/Handtrack.js\",\n    _s = $RefreshSig$();\n\nimport * as handTrack from 'handtrackjs';\nimport { React, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Handtrack() {\n  _s();\n\n  var video = document.getElementById(\"video\");\n  let myModel = null; //load tracker model\n\n  const loadTracker = () => {\n    handTrack.load().then(model => {\n      myModel = model;\n      console.log(\"model loaded\");\n      setLoading(1);\n    });\n  }; //run tracker detection\n\n\n  const runTracker = () => {\n    var video = document.getElementById(\"video\");\n    var canvas = document.getElementById(\"canvas\");\n    var context = canvas.getContext('2d');\n    var mediasource = video;\n\n    if (myModel != null) {\n      myModel.detect(video).then(predictions => {\n        myModel.renderPredictions(predictions, canvas, context, mediasource);\n        requestAnimationFrame(runTracker);\n      });\n    }\n  }; //start video stream\n\n\n  handTrack.startVideo(video).then(runTracker()); //render tracker results to canvas\n\n  const [loading, setLoading] = useState(0);\n\n  const render = () => {\n    if (loading === 0) loadTracker();\n    var video = document.getElementById(\"video\");\n    video.addEventListener('loadeddata', () => {\n      runTracker();\n    });\n    video.removeEventListener('loadeddata', render);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    id: \"canvas\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Handtrack, \"v8cXMtzANyY9siEV9ydDIOVgupk=\");\n\n_c = Handtrack;\n\nvar _c;\n\n$RefreshReg$(_c, \"Handtrack\");","map":{"version":3,"sources":["/Users/bernardoagbranco/github/react-handtrackjs/src/components/Handtrack.js"],"names":["handTrack","React","useEffect","useState","Handtrack","video","document","getElementById","myModel","loadTracker","load","then","model","console","log","setLoading","runTracker","canvas","context","getContext","mediasource","detect","predictions","renderPredictions","requestAnimationFrame","startVideo","loading","render","addEventListener","removeEventListener"],"mappings":";;;AAAA,OAAO,KAAKA,SAAZ,MAA2B,aAA3B;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAEhC,MAAIC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAZ;AACA,MAAIC,OAAO,GAAG,IAAd,CAHgC,CAKhC;;AACA,QAAMC,WAAW,GAAG,MAAM;AACtBT,IAAAA,SAAS,CAACU,IAAV,GACKC,IADL,CACUC,KAAK,IAAI;AACXJ,MAAAA,OAAO,GAAGI,KAAV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAC,MAAAA,UAAU,CAAC,CAAD,CAAV;AACH,KALL;AAMH,GAPD,CANgC,CAehC;;;AACA,QAAMC,UAAU,GAAG,MAAM;AAErB,QAAIX,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAZ;AACA,QAAIU,MAAM,GAAGX,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AACA,QAAIW,OAAO,GAAGD,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAd;AACA,QAAIC,WAAW,GAAGf,KAAlB;;AAEA,QAAIG,OAAO,IAAI,IAAf,EAAqB;AACjBA,MAAAA,OAAO,CAACa,MAAR,CAAehB,KAAf,EAAsBM,IAAtB,CAA2BW,WAAW,IAAI;AACtCd,QAAAA,OAAO,CAACe,iBAAR,CAA0BD,WAA1B,EAAuCL,MAAvC,EAA+CC,OAA/C,EAAwDE,WAAxD;AACAI,QAAAA,qBAAqB,CAACR,UAAD,CAArB;AACH,OAHD;AAKH;AACJ,GAdD,CAhBgC,CAgC5B;;;AACAhB,EAAAA,SAAS,CAACyB,UAAV,CAAqBpB,KAArB,EAA4BM,IAA5B,CACIK,UAAU,EADd,EAjC4B,CAsChC;;AACA,QAAM,CAACU,OAAD,EAAUX,UAAV,IAAwBZ,QAAQ,CAAC,CAAD,CAAtC;;AACA,QAAMwB,MAAM,GAAG,MAAI;AAEf,QAAID,OAAO,KAAK,CAAhB,EAAmBjB,WAAW;AAC9B,QAAIJ,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAZ;AACAF,IAAAA,KAAK,CAACuB,gBAAN,CAAuB,YAAvB,EAAqC,MAAM;AACvCZ,MAAAA,UAAU;AACb,KAFD;AAIAX,IAAAA,KAAK,CAACwB,mBAAN,CAA0B,YAA1B,EAAwCF,MAAxC;AACH,GATD;;AAWA,sBACI;AAAQ,IAAA,EAAE,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH;;GAtDuBvB,S;;KAAAA,S","sourcesContent":["import * as handTrack from 'handtrackjs';\nimport { React, useEffect, useState } from 'react'\n\nexport default function Handtrack() {\n\n    var video = document.getElementById(\"video\");\n    let myModel = null;\n    \n    //load tracker model\n    const loadTracker = () => {\n        handTrack.load()\n            .then(model => {\n                myModel = model;\n                console.log(\"model loaded\");\n                setLoading(1);\n            });\n    }\n\n    //run tracker detection\n    const runTracker = () => {\n\n        var video = document.getElementById(\"video\");\n        var canvas = document.getElementById(\"canvas\");\n        var context = canvas.getContext('2d')\n        var mediasource = video;\n\n        if (myModel != null) {\n            myModel.detect(video).then(predictions => {\n                myModel.renderPredictions(predictions, canvas, context, mediasource);\n                requestAnimationFrame(runTracker);\n            });\n\n        }\n    }\n\n        //start video stream\n        handTrack.startVideo(video).then(\n            runTracker()\n        );\n\n\n    //render tracker results to canvas\n    const [loading, setLoading] = useState(0);\n    const render = ()=>{\n\n        if (loading === 0) loadTracker();\n        var video = document.getElementById(\"video\");\n        video.addEventListener('loadeddata', () => {\n            runTracker();\n        })\n\n        video.removeEventListener('loadeddata', render);\n    }\n\n    return (\n        <canvas id=\"canvas\"></canvas>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}