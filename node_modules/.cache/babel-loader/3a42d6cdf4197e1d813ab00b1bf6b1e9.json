{"ast":null,"code":"var _jsxFileName = \"/Users/bernardoagbranco/react-threejs/react-threejs-webcam/src/components/Handtrack.js\",\n    _s = $RefreshSig$();\n\nimport * as handTrack from 'handtrackjs';\nimport { React, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Handtrack() {\n  _s();\n\n  var video = document.getElementById(\"video\");\n  var canvas = document.getElementById(\"canvas\");\n  var context = canvas.getContext('2d');\n  var mediasource = video;\n  const [loading, setLoading] = useState(0);\n  let myModel = null;\n  handTrack.startVideo(video);\n  useEffect(() => {\n    var video = document.getElementById(\"video\");\n\n    if (loading === 0) {\n      loadTracker();\n    }\n\n    video.addEventListener('loadeddata', () => {\n      runTracker();\n    });\n  });\n\n  const loadTracker = () => {\n    handTrack.load().then(model => {\n      myModel = model;\n      console.log(\"model loaded\");\n      setLoading(1);\n    });\n  };\n\n  const runTracker = (video, canvas, context, mediasource) => {\n    if (myModel != null) {\n      myModel.detect(video).then(predictions => {\n        myModel.renderPredictions(predictions, canvas, context, mediasource);\n      });\n    }\n  };\n\n  const [time, setTime] = useState(0);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setTime(time + 1);\n    }, 200);\n    return () => clearTimeout(timer);\n  });\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    id: \"canvas\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Handtrack, \"jpfbZhfhrf8O1ft/e4fRj2o7LN0=\");\n\n_c = Handtrack;\n\nvar _c;\n\n$RefreshReg$(_c, \"Handtrack\");","map":{"version":3,"sources":["/Users/bernardoagbranco/react-threejs/react-threejs-webcam/src/components/Handtrack.js"],"names":["handTrack","React","useEffect","useState","Handtrack","video","document","getElementById","canvas","context","getContext","mediasource","loading","setLoading","myModel","startVideo","loadTracker","addEventListener","runTracker","load","then","model","console","log","detect","predictions","renderPredictions","time","setTime","timer","setTimeout","clearTimeout"],"mappings":";;;AAAA,OAAO,KAAKA,SAAZ,MAA2B,aAA3B;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAEhC,MAAIC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAZ;AACA,MAAIC,MAAM,GAAGF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AACA,MAAIE,OAAO,GAAGD,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAd;AACA,MAAIC,WAAW,GAAGN,KAAlB;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,CAAD,CAAtC;AACA,MAAIW,OAAO,GAAG,IAAd;AAEAd,EAAAA,SAAS,CAACe,UAAV,CAAqBV,KAArB;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIG,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAZ;;AAEA,QAAGK,OAAO,KAAG,CAAb,EAAe;AACfI,MAAAA,WAAW;AACV;;AAEDX,IAAAA,KAAK,CAACY,gBAAN,CAAuB,YAAvB,EAAqC,MAAM;AACvCC,MAAAA,UAAU;AACb,KAFD;AAGH,GAVQ,CAAT;;AAYA,QAAMF,WAAW,GAAG,MAAM;AACtBhB,IAAAA,SAAS,CAACmB,IAAV,GACCC,IADD,CACMC,KAAK,IAAI;AACXP,MAAAA,OAAO,GAAGO,KAAV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAV,MAAAA,UAAU,CAAC,CAAD,CAAV;AACH,KALD;AAMH,GAPD;;AASA,QAAMK,UAAU,GAAG,CAACb,KAAD,EAAQG,MAAR,EAAgBC,OAAhB,EAAyBE,WAAzB,KAAyC;AAExD,QAAGG,OAAO,IAAI,IAAd,EAAmB;AACnBA,MAAAA,OAAO,CAACU,MAAR,CAAenB,KAAf,EAAsBe,IAAtB,CAA2BK,WAAW,IAAI;AACtCX,QAAAA,OAAO,CAACY,iBAAR,CAA0BD,WAA1B,EAAuCjB,MAAvC,EAA+CC,OAA/C,EAAwDE,WAAxD;AACH,OAFD;AAGH;AACA,GAPD;;AASA,QAAM,CAACgB,IAAD,EAAMC,OAAN,IAAiBzB,QAAQ,CAAC,CAAD,CAA/B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM2B,KAAK,GAAGC,UAAU,CAAC,MAAM;AAC3BF,MAAAA,OAAO,CAACD,IAAI,GAAC,CAAN,CAAP;AACD,KAFqB,EAEnB,GAFmB,CAAxB;AAGE,WAAO,MAAMI,YAAY,CAACF,KAAD,CAAzB;AACL,GALQ,CAAT;AAOA,sBACI;AAAQ,IAAA,EAAE,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH;;GArDuBzB,S;;KAAAA,S","sourcesContent":["import * as handTrack from 'handtrackjs';\nimport { React, useEffect, useState } from 'react'\n\nexport default function Handtrack() {\n\n    var video = document.getElementById(\"video\");\n    var canvas = document.getElementById(\"canvas\");\n    var context = canvas.getContext('2d')\n    var mediasource = video;\n    const [loading, setLoading] = useState(0);\n    let myModel = null;\n\n    handTrack.startVideo(video);\n\n    useEffect(() => {\n        var video = document.getElementById(\"video\");\n        \n        if(loading===0){\n        loadTracker();\n        } \n\n        video.addEventListener('loadeddata', () => {\n            runTracker(); \n        })\n    })\n\n    const loadTracker = () => {\n        handTrack.load()\n        .then(model => {\n            myModel = model;\n            console.log(\"model loaded\");\n            setLoading(1);\n        });\n    }\n\n    const runTracker = (video, canvas, context, mediasource) => {\n\n        if(myModel != null){\n        myModel.detect(video).then(predictions => {\n            myModel.renderPredictions(predictions, canvas, context, mediasource);\n        });\n    }\n    }\n\n    const [time,setTime] = useState(0);\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            setTime(time+1);\n          }, 200);\n          return () => clearTimeout(timer);\n    })\n\n    return (\n        <canvas id=\"canvas\"></canvas>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}